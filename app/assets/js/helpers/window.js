import{app,BrowserWindow,screen}from'electron';import jetpack from'fs-jetpack';export default(function(){return function(b,c){var d,e,f,g,h,i,j,k,l,m,n;return l=jetpack.cwd(app.getPath('userData')),k='window-state-'+b+'.json',d={width:c.width,height:c.height},j={},m=void 0,h=function(){var p={};try{p=l.read(k,'json')}catch(q){}return Object.assign({},d,p)},f=function(){var o,p;return o=m.getPosition(),p=m.getSize(),{x:o[0],y:o[1],width:p[0],height:p[1]}},n=function(o,p){return o.x>=p.x&&o.y>=p.y&&o.x+o.width<=p.x+p.width&&o.y+o.height<=p.y+p.height},g=function(){var p;return p=screen.getPrimaryDisplay().bounds,Object.assign({},d,{x:(p.width-d.width)/2,y:(p.height-d.height)/2})},e=function(o){var p;return p=screen.getAllDisplays().some(function(q){return n(o,q.bounds)}),p?o:g(o)},i=function(){m.isMinimized()||m.isMaximized()||Object.assign(j,f()),l.write(k,j,{atomic:!0})},j=e(h()),m=new BrowserWindow(Object.assign({},c,j)),m.on('close',i),m}})(this);